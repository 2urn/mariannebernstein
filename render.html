<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">

<style>
:root {
  --font-body: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  --line-height: 1.55;
}

html, body {
  margin: 0;
  padding: 0;
}

body {
  font-family: var(--font-body);
  line-height: var(--line-height);
  color: inherit;
}

h1, h2, h3 {
  margin: 1.5em 0 0.5em;
}

p {
  margin: 0 0 1em;
}

ul, ol {
  margin: 0 0 1em 1.25em;
}

blockquote {
  margin: 0 0 1em;
  padding-left: 1em;
  border-left: 2px solid currentColor;
  opacity: 0.8;
}

hr {
  border: none;
  border-top: 1px solid currentColor;
  opacity: 0.2;
  margin: 2em 0;
}

code {
  font-family: ui-monospace, SFMono-Regular, monospace;
  font-size: 0.9em;
}
</style>
</head>

<body>

<div id="content"></div>

<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<script>
marked.setOptions({ breaks: true, gfm: true });

fetch("./Marianne-Bernstein-cv.md?_ts=" + Date.now())
  .then(r => {
    if (!r.ok) throw new Error("Failed to load markdown");
    return r.text();
  })
  .then(md => {
    document.getElementById("content").innerHTML = marked.parse(md);
    requestAnimationFrame(resize);
  })
  .catch(err => {
    document.getElementById("content").textContent = err.message;
  });

function resize() {
  parent.postMessage(
    { type: "resize", height: document.body.scrollHeight },
    "*"
  );
}
</script>

</body>
</html>
